<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Tulipmetric Architecture</title>
  <style>
    :root {
      --bg: #0f1117;
      --surface: #1a1d27;
      --surface2: #22263a;
      --border: #2e3250;
      --accent: #6c8cff;
      --accent2: #a78bfa;
      --accent3: #34d399;
      --accent4: #fb923c;
      --accent5: #f472b6;
      --text: #e2e8f0;
      --text-muted: #8892b0;
      --text-dim: #4a5568;
      --nginx: #22c55e;
      --spring: #6c8cff;
      --python: #f59e0b;
      --mysql: #38bdf8;
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      background: var(--bg);
      color: var(--text);
      font-family: 'Segoe UI', 'Noto Sans KR', sans-serif;
      line-height: 1.7;
    }

    /* â”€â”€ HERO â”€â”€ */
    .hero {
      background: linear-gradient(135deg, #0f1117 0%, #1a1d27 50%, #0d1b2a 100%);
      border-bottom: 1px solid var(--border);
      padding: 64px 40px 48px;
      text-align: center;
      position: relative;
      overflow: hidden;
    }
    .hero::before {
      content: '';
      position: absolute; inset: 0;
      background: radial-gradient(ellipse at 50% 0%, rgba(108,140,255,0.12) 0%, transparent 70%);
      pointer-events: none;
    }
    .hero-badge {
      display: inline-block;
      background: rgba(108,140,255,0.15);
      border: 1px solid rgba(108,140,255,0.4);
      color: var(--accent);
      font-size: 12px;
      font-weight: 600;
      letter-spacing: 2px;
      text-transform: uppercase;
      padding: 4px 14px;
      border-radius: 20px;
      margin-bottom: 20px;
    }
    .hero h1 {
      font-size: clamp(28px, 5vw, 52px);
      font-weight: 800;
      background: linear-gradient(135deg, #fff 0%, var(--accent) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 16px;
    }
    .hero p {
      color: var(--text-muted);
      font-size: 16px;
      max-width: 600px;
      margin: 0 auto;
    }

    /* â”€â”€ NAV â”€â”€ */
    nav {
      background: rgba(26,29,39,0.95);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid var(--border);
      padding: 0 40px;
      position: sticky; top: 0; z-index: 100;
      display: flex; gap: 0; overflow-x: auto;
    }
    nav a {
      color: var(--text-muted);
      text-decoration: none;
      font-size: 13px;
      font-weight: 500;
      padding: 14px 18px;
      white-space: nowrap;
      border-bottom: 2px solid transparent;
      transition: all 0.2s;
    }
    nav a:hover { color: var(--text); border-bottom-color: var(--accent); }

    /* â”€â”€ LAYOUT â”€â”€ */
    main { max-width: 1100px; margin: 0 auto; padding: 48px 24px; }

    section { margin-bottom: 64px; }
    h2 {
      font-size: 24px; font-weight: 700;
      color: #fff;
      margin-bottom: 24px;
      padding-bottom: 12px;
      border-bottom: 1px solid var(--border);
      display: flex; align-items: center; gap: 10px;
    }
    h2 .dot {
      width: 10px; height: 10px; border-radius: 50%;
      display: inline-block; flex-shrink: 0;
    }
    h3 { font-size: 17px; font-weight: 600; color: #fff; margin: 24px 0 12px; }

    p { color: var(--text-muted); margin-bottom: 12px; font-size: 15px; }

    /* â”€â”€ CARDS â”€â”€ */
    .card {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 24px;
      margin-bottom: 20px;
    }
    .card-header {
      display: flex; align-items: center; gap: 12px; margin-bottom: 16px;
    }
    .card-icon {
      width: 40px; height: 40px; border-radius: 10px;
      display: flex; align-items: center; justify-content: center;
      font-size: 20px; flex-shrink: 0;
    }
    .card-title { font-size: 17px; font-weight: 700; color: #fff; }
    .card-sub { font-size: 12px; color: var(--text-muted); margin-top: 2px; }

    /* â”€â”€ FLOW DIAGRAM â”€â”€ */
    .flow {
      display: flex;
      align-items: center;
      flex-wrap: wrap;
      gap: 0;
      margin: 28px 0;
    }
    .flow-node {
      background: var(--surface2);
      border: 1px solid var(--border);
      border-radius: 10px;
      padding: 12px 20px;
      text-align: center;
      min-width: 110px;
      position: relative;
    }
    .flow-node .label { font-size: 13px; font-weight: 600; color: #fff; }
    .flow-node .sub { font-size: 11px; color: var(--text-muted); margin-top: 2px; }
    .flow-arrow {
      color: var(--text-dim);
      font-size: 20px;
      padding: 0 8px;
      flex-shrink: 0;
    }
    .fn-client  { border-color: #475569; }
    .fn-nginx   { border-color: var(--nginx); box-shadow: 0 0 10px rgba(34,197,94,0.15); }
    .fn-spring  { border-color: var(--spring); box-shadow: 0 0 10px rgba(108,140,255,0.15); }
    .fn-mysql   { border-color: var(--mysql); box-shadow: 0 0 10px rgba(56,189,248,0.15); }
    .fn-python  { border-color: var(--python); box-shadow: 0 0 10px rgba(245,158,11,0.15); }

    /* â”€â”€ TABLE â”€â”€ */
    table { width: 100%; border-collapse: collapse; font-size: 14px; }
    th {
      background: var(--surface2);
      color: var(--text-muted);
      font-weight: 600;
      text-align: left;
      padding: 10px 14px;
      border: 1px solid var(--border);
    }
    td {
      padding: 10px 14px;
      border: 1px solid var(--border);
      color: var(--text-muted);
      vertical-align: top;
    }
    tr:nth-child(even) td { background: rgba(255,255,255,0.02); }

    /* â”€â”€ CODE â”€â”€ */
    pre {
      background: #0a0c14;
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 18px 20px;
      overflow-x: auto;
      font-size: 13px;
      line-height: 1.6;
      color: #a8b4d8;
      margin: 12px 0 20px;
    }
    code { font-family: 'Fira Code', 'Consolas', monospace; }
    .kw { color: #6c8cff; }
    .str { color: #34d399; }
    .cm { color: #4a5568; font-style: italic; }
    .tag { color: #f472b6; }
    .val { color: #fb923c; }

    /* â”€â”€ BADGE â”€â”€ */
    .badge {
      display: inline-block;
      font-size: 11px; font-weight: 600;
      padding: 2px 8px; border-radius: 4px;
      margin-right: 4px; vertical-align: middle;
    }
    .badge-nginx  { background: rgba(34,197,94,0.15); color: var(--nginx); border: 1px solid rgba(34,197,94,0.3); }
    .badge-spring { background: rgba(108,140,255,0.15); color: var(--spring); border: 1px solid rgba(108,140,255,0.3); }
    .badge-python { background: rgba(245,158,11,0.15); color: var(--python); border: 1px solid rgba(245,158,11,0.3); }
    .badge-mysql  { background: rgba(56,189,248,0.15); color: var(--mysql); border: 1px solid rgba(56,189,248,0.3); }
    .badge-sec    { background: rgba(244,114,182,0.15); color: var(--accent5); border: 1px solid rgba(244,114,182,0.3); }

    /* â”€â”€ LIST â”€â”€ */
    ul.styled { padding-left: 0; list-style: none; }
    ul.styled li {
      color: var(--text-muted);
      font-size: 14px;
      padding: 7px 0 7px 22px;
      border-bottom: 1px solid rgba(255,255,255,0.04);
      position: relative;
    }
    ul.styled li::before {
      content: 'â–¸';
      position: absolute; left: 4px;
      color: var(--accent);
    }

    /* â”€â”€ GRID â”€â”€ */
    .grid2 { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }
    @media(max-width: 700px) { .grid2 { grid-template-columns: 1fr; } }

    /* â”€â”€ LAYER BOX â”€â”€ */
    .layer-box {
      border: 1px solid var(--border);
      border-radius: 12px;
      overflow: hidden;
      margin-bottom: 16px;
    }
    .layer-header {
      padding: 10px 18px;
      font-size: 12px; font-weight: 700; letter-spacing: 1.5px;
      text-transform: uppercase;
    }
    .layer-body { padding: 16px 18px; background: var(--surface); }
    .lh-security { background: rgba(244,114,182,0.1); color: var(--accent5); border-bottom: 1px solid rgba(244,114,182,0.2); }
    .lh-web      { background: rgba(108,140,255,0.1); color: var(--accent); border-bottom: 1px solid rgba(108,140,255,0.2); }
    .lh-service  { background: rgba(52,211,153,0.1); color: var(--accent3); border-bottom: 1px solid rgba(52,211,153,0.2); }
    .lh-data     { background: rgba(56,189,248,0.1); color: var(--mysql); border-bottom: 1px solid rgba(56,189,248,0.2); }

    /* â”€â”€ FOOTER â”€â”€ */
    footer {
      text-align: center;
      padding: 32px;
      border-top: 1px solid var(--border);
      color: var(--text-dim);
      font-size: 13px;
    }

    /* â”€â”€ STEP â”€â”€ */
    .steps { counter-reset: step; }
    .step-item {
      display: flex; gap: 16px;
      margin-bottom: 20px;
      align-items: flex-start;
    }
    .step-num {
      width: 32px; height: 32px; border-radius: 50%;
      background: var(--accent);
      color: #fff; font-weight: 700; font-size: 14px;
      display: flex; align-items: center; justify-content: center;
      flex-shrink: 0;
    }
    .step-content h4 { font-size: 14px; color: #fff; margin-bottom: 4px; }
    .step-content p { margin-bottom: 0; font-size: 13px; }

    /* color dots */
    .c-nginx   { color: var(--nginx); }
    .c-spring  { color: var(--spring); }
    .c-python  { color: var(--python); }
    .c-mysql   { color: var(--mysql); }
  </style>
</head>
<body>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• HERO â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="hero">
  <div class="hero-badge">Architecture Docs</div>
  <h1>ğŸŒ· Tulipmetric</h1>
  <p>Spring Boot Â· Nginx Â· Python Â· MySQL â€” Docker Compose ê¸°ë°˜ ë©€í‹° ì»¨í…Œì´ë„ˆ ì•„í‚¤í…ì²˜ ë¬¸ì„œ</p>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• NAV â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<nav>
  <a href="#overview">ì „ì²´ ê°œìš”</a>
  <a href="#request-cycle">ìš”ì²­/ì‘ë‹µ ì‚¬ì´í´</a>
  <a href="#nginx">Nginx ì»¨í…Œì´ë„ˆ</a>
  <a href="#spring">Spring ì»¨í…Œì´ë„ˆ</a>
  <a href="#python">Python ì»¨í…Œì´ë„ˆ</a>
  <a href="#mysql">MySQL ì»¨í…Œì´ë„ˆ</a>
  <a href="#security">ë³´ì•ˆ ì•„í‚¤í…ì²˜</a>
</nav>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• MAIN â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<main>

  <!-- â”€â”€ ì „ì²´ ê°œìš” â”€â”€ -->
  <section id="overview">
    <h2><span class="dot" style="background:#6c8cff"></span>ì „ì²´ ì‹œìŠ¤í…œ ê°œìš”</h2>
    <p>Tulipmetricì€ í•œêµ­ KOSPI ì—…ì¢…ë³„ ì£¼ì‹ ì§€í‘œë¥¼ ì œê³µí•˜ëŠ” ì›¹ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤. ëª¨ë“  ì„œë¹„ìŠ¤ëŠ” <strong>Docker Compose</strong>ë¡œ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ë˜ë©°, 4ê°œì˜ ë…ë¦½ ì»¨í…Œì´ë„ˆë¡œ êµ¬ì„±ë©ë‹ˆë‹¤.</p>

    <div class="card">
      <div style="overflow-x:auto">
        <table>
          <thead>
            <tr>
              <th>ì»¨í…Œì´ë„ˆ</th>
              <th>ì´ë¯¸ì§€</th>
              <th>í¬íŠ¸</th>
              <th>ì—­í•  ìš”ì•½</th>
              <th>ì¬ì‹œì‘ ì •ì±…</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><span class="badge badge-nginx">nginx</span> nginx-proxy</td>
              <td>nginx:1.25-alpine</td>
              <td>80:80 (ì™¸ë¶€ ë…¸ì¶œ)</td>
              <td>ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ Â· Rate Limiting Â· ë³´ì•ˆ í—¤ë”</td>
              <td>always</td>
            </tr>
            <tr>
              <td><span class="badge badge-spring">spring</span> spring-server</td>
              <td>spring-server:1 (ë¹Œë“œ)</td>
              <td>8080 (ë‚´ë¶€ only)</td>
              <td>ë©”ì¸ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ Â· JWT ì¸ì¦ Â· MVC</td>
              <td>always</td>
            </tr>
            <tr>
              <td><span class="badge badge-mysql">mysql</span> mysql-container</td>
              <td>mysql-server:1 (ë¹Œë“œ)</td>
              <td>3306:3306</td>
              <td>ì˜êµ¬ ë°ì´í„° ì €ì¥ Â· JPA ORM íƒ€ê²Ÿ</td>
              <td>always</td>
            </tr>
            <tr>
              <td><span class="badge badge-python">python</span> python-loader</td>
              <td>python-loader:1 (ë¹Œë“œ)</td>
              <td>ì—†ìŒ</td>
              <td>ì´ˆê¸° ë°ì´í„° ìˆ˜ì§‘ (KOSIS API Â· data.go.kr)</td>
              <td>no (1íšŒ ì‹¤í–‰)</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <h3>ì»¨í…Œì´ë„ˆ ì˜ì¡´ ê´€ê³„</h3>
    <div class="flow" style="justify-content:center; flex-direction:column; align-items:flex-start; gap:8px; padding:20px; background:var(--surface); border:1px solid var(--border); border-radius:12px;">
      <div style="display:flex;align-items:center;gap:8px;">
        <span class="flow-node fn-mysql" style="min-width:130px"><span class="label">ğŸ—„ï¸ MySQL</span><span class="sub">healthcheck í†µê³¼ í›„</span></span>
        <span class="flow-arrow">â”€â”€â†’</span>
        <span class="flow-node fn-spring"><span class="label">ğŸƒ Spring</span><span class="sub">depends_on: mysql</span></span>
        <span class="flow-arrow">â”€â”€â†’</span>
        <span class="flow-node fn-nginx"><span class="label">ğŸ›¡ï¸ Nginx</span><span class="sub">depends_on: spring</span></span>
      </div>
      <div style="display:flex;align-items:center;gap:8px; margin-top:8px;">
        <span class="flow-node fn-mysql" style="min-width:130px"><span class="label">ğŸ—„ï¸ MySQL</span><span class="sub">healthcheck í†µê³¼ í›„</span></span>
        <span class="flow-arrow">â”€â”€â†’</span>
        <span class="flow-node fn-python"><span class="label">ğŸ Python</span><span class="sub">depends_on: mysql</span></span>
      </div>
    </div>
    <p style="font-size:13px; color:var(--text-dim); margin-top:8px;">MySQLì´ <code>mysqladmin ping</code> healthcheckë¥¼ í†µê³¼í•´ì•¼ë§Œ Springê³¼ Pythonì´ ê¸°ë™ë©ë‹ˆë‹¤. NginxëŠ” Springì´ ì˜¬ë¼ì˜¨ ë’¤ ì‹œì‘í•©ë‹ˆë‹¤.</p>
  </section>

  <!-- â”€â”€ ìš”ì²­/ì‘ë‹µ ì‚¬ì´í´ â”€â”€ -->
  <section id="request-cycle">
    <h2><span class="dot" style="background:#34d399"></span>ìš”ì²­ â†’ ì‘ë‹µ ì „ì²´ ì‚¬ì´í´</h2>
    <p>í´ë¼ì´ì–¸íŠ¸ê°€ HTTP ìš”ì²­ì„ ë³´ë‚´ë©´ ì•„ë˜ ìˆœì„œë¡œ ì²˜ë¦¬ë©ë‹ˆë‹¤.</p>

    <div class="flow" style="justify-content:center;flex-wrap:wrap;margin:28px 0;">
      <div class="flow-node fn-client"><span class="label">ğŸ’» Client</span><span class="sub">Browser / App</span></div>
      <div class="flow-arrow">â†’</div>
      <div class="flow-node fn-nginx"><span class="label">ğŸ›¡ï¸ Nginx</span><span class="sub">:80</span></div>
      <div class="flow-arrow">â†’</div>
      <div class="flow-node fn-spring"><span class="label">ğŸƒ Spring</span><span class="sub">:8080</span></div>
      <div class="flow-arrow">â†’</div>
      <div class="flow-node fn-mysql"><span class="label">ğŸ—„ï¸ MySQL</span><span class="sub">:3306</span></div>
      <div class="flow-arrow">â†</div>
      <div class="flow-node fn-spring"><span class="label">ğŸƒ Spring</span></div>
      <div class="flow-arrow">â†</div>
      <div class="flow-node fn-nginx"><span class="label">ğŸ›¡ï¸ Nginx</span></div>
      <div class="flow-arrow">â†</div>
      <div class="flow-node fn-client"><span class="label">ğŸ’» Client</span></div>
    </div>

    <div class="steps">
      <div class="step-item">
        <div class="step-num">1</div>
        <div class="step-content">
          <h4>í´ë¼ì´ì–¸íŠ¸ â†’ Nginx (TCP :80)</h4>
          <p>ë¸Œë¼ìš°ì €ê°€ HTTP GET/POST ìš”ì²­ì„ ì „ì†¡í•©ë‹ˆë‹¤. Nginxë§Œ ì™¸ë¶€ì— <code>80:80</code>ìœ¼ë¡œ ì—´ë ¤ ìˆê³ , Spring(:8080)ì€ <strong>Docker ë‚´ë¶€ ë„¤íŠ¸ì›Œí¬ì—ì„œë§Œ</strong> ì ‘ê·¼ ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>
        </div>
      </div>
      <div class="step-item">
        <div class="step-num">2</div>
        <div class="step-content">
          <h4>Nginx â€” Rate Limiting íŒì •</h4>
          <p>ìš”ì²­ ê²½ë¡œ(URI)ì— ë”°ë¼ Rate Limit zoneì„ ì„ íƒí•©ë‹ˆë‹¤. <code>/api/auth/</code>Â·<code>/login</code>ì€ ë¶„ë‹¹ 5íšŒ(login_limit), <code>/api/</code>ëŠ” ì´ˆë‹¹ 10íšŒ(api_limit), OAuth2 ì½œë°±ì€ ì´ˆë‹¹ 2íšŒ(oauth2_limit) ì œí•œì´ ì ìš©ë©ë‹ˆë‹¤. ì´ˆê³¼ ì‹œ <strong>429 Too Many Requests</strong>ë¥¼ ë°˜í™˜í•˜ê³  Springê¹Œì§€ ì „ë‹¬ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</p>
        </div>
      </div>
      <div class="step-item">
        <div class="step-num">3</div>
        <div class="step-content">
          <h4>Nginx â†’ Spring (HTTP/1.1 Reverse Proxy)</h4>
          <p>í†µê³¼í•œ ìš”ì²­ì€ upstream <code>spring_backend(spring-server:8080)</code>ë¡œ í”„ë¡ì‹œë©ë‹ˆë‹¤. ì´ë•Œ <code>X-Real-IP</code>, <code>X-Forwarded-For</code>, <code>X-Forwarded-Proto</code> í—¤ë”ë¥¼ ì£¼ì…í•˜ì—¬ Springì´ ì‹¤ì œ í´ë¼ì´ì–¸íŠ¸ IPë¥¼ ì•Œ ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤. keepalive 32ê°œ ì»¤ë„¥ì…˜ í’€ì„ ìœ ì§€í•©ë‹ˆë‹¤.</p>
        </div>
      </div>
      <div class="step-item">
        <div class="step-num">4</div>
        <div class="step-content">
          <h4>Spring Security Filter Chain</h4>
          <p>ìš”ì²­ì´ Springì— ë„ë‹¬í•˜ë©´ ê°€ì¥ ë¨¼ì € Filter Chainì„ í†µê³¼í•©ë‹ˆë‹¤. <strong>JwtAuthenticationFilter</strong>ê°€ ì¿ í‚¤ì˜ <code>ACCESS_TOKEN</code>ì„ ê²€ì¦í•˜ê³ , ìœ íš¨í•˜ë©´ <code>SecurityContextHolder</code>ì— ì¸ì¦ ì •ë³´ë¥¼ ì €ì¥í•©ë‹ˆë‹¤.</p>
        </div>
      </div>
      <div class="step-item">
        <div class="step-num">5</div>
        <div class="step-content">
          <h4>Spring DispatcherServlet â†’ Controller â†’ Service</h4>
          <p>í•„í„°ë¥¼ í†µê³¼í•œ ìš”ì²­ì€ DispatcherServletì´ ë°›ì•„ ì ì ˆí•œ <code>@Controller</code>ì— ë¼ìš°íŒ…í•©ë‹ˆë‹¤. ControllerëŠ” Service ë ˆì´ì–´ë¥¼ í˜¸ì¶œí•˜ê³ , ServiceëŠ” JPA Repositoryë¥¼ í†µí•´ MySQLì— ì¿¼ë¦¬í•©ë‹ˆë‹¤.</p>
        </div>
      </div>
      <div class="step-item">
        <div class="step-num">6</div>
        <div class="step-content">
          <h4>MySQL ì¿¼ë¦¬ â†’ ê²°ê³¼ ë°˜í™˜</h4>
          <p>JPA(Hibernate)ê°€ JPQL/SQLì„ ìƒì„±í•´ MySQLì— ì‹¤í–‰í•˜ê³  ê²°ê³¼ë¥¼ ì—”í‹°í‹°ë¡œ ë§¤í•‘í•©ë‹ˆë‹¤. Service â†’ Controller ìˆœìœ¼ë¡œ ì‘ë‹µ ë°ì´í„°ê°€ ì˜¬ë¼ì˜µë‹ˆë‹¤.</p>
        </div>
      </div>
      <div class="step-item">
        <div class="step-num">7</div>
        <div class="step-content">
          <h4>Thymeleaf ë Œë”ë§ â†’ Nginx â†’ í´ë¼ì´ì–¸íŠ¸</h4>
          <p>Controllerê°€ Thymeleaf í…œí”Œë¦¿ì— ëª¨ë¸ì„ ë°”ì¸ë”©í•˜ì—¬ HTMLì„ ë Œë”ë§í•©ë‹ˆë‹¤. ê²°ê³¼ HTML(ë˜ëŠ” JSON)ì€ Nginxë¥¼ ê±°ì³ í´ë¼ì´ì–¸íŠ¸ì— ì „ë‹¬ë©ë‹ˆë‹¤. ì •ì  íŒŒì¼(.css/.js/.jpg ë“±)ì€ Nginxê°€ <code>Cache-Control: public, immutable</code>ê³¼ 7ì¼ ìºì‹œ í—¤ë”ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- â”€â”€ NGINX â”€â”€ -->
  <section id="nginx">
    <h2><span class="dot" style="background:#22c55e"></span>Nginx ì»¨í…Œì´ë„ˆ</h2>

    <div class="card">
      <div class="card-header">
        <div class="card-icon" style="background:rgba(34,197,94,0.1);">ğŸ›¡ï¸</div>
        <div>
          <div class="card-title">nginx-proxy</div>
          <div class="card-sub">nginx:1.25-alpine Â· í¬íŠ¸ 80 ì™¸ë¶€ ë…¸ì¶œ Â· ì„¤ì • íŒŒì¼: nginx/default.conf</div>
        </div>
      </div>
      <p>NginxëŠ” <strong>ì™¸ë¶€ ì¸í„°ë„·ê³¼ Spring ì‚¬ì´ì˜ ìœ ì¼í•œ ê´€ë¬¸</strong>ì…ë‹ˆë‹¤. Springì„ ì§ì ‘ ë…¸ì¶œí•˜ì§€ ì•Šê³  ëª¨ë“  íŠ¸ë˜í”½ì„ Nginxê°€ ì¤‘ê³„í•˜ì—¬ ë³´ì•ˆ, ì„±ëŠ¥, íŠ¸ë˜í”½ ì œì–´ë¥¼ ë‹´ë‹¹í•©ë‹ˆë‹¤.</p>
    </div>

    <h3>ğŸ“Œ Rate Limiting êµ¬ì¡°</h3>
    <div class="card">
      <table>
        <thead><tr><th>Zone ì´ë¦„</th><th>ì ìš© ê²½ë¡œ</th><th>ì œí•œ</th><th>Burst</th><th>ëª©ì </th></tr></thead>
        <tbody>
          <tr><td><code>api_limit</code></td><td><code>/api/</code></td><td>10 r/s</td><td>20</td><td>ì¼ë°˜ API ê³¼ë¶€í•˜ ë°©ì§€</td></tr>
          <tr><td><code>login_limit</code></td><td><code>/login</code>, <code>/api/auth/</code></td><td>5 r/m (POSTë§Œ)</td><td>3</td><td>ë¸Œë£¨íŠ¸í¬ìŠ¤ ë¡œê·¸ì¸ ê³µê²© ë°©ì§€</td></tr>
          <tr><td><code>oauth2_limit</code></td><td><code>/login/oauth2/</code></td><td>2 r/s</td><td>6</td><td>OAuth2 ë¦¬ë‹¤ì´ë ‰íŠ¸ ì—°ì† í˜¸ì¶œ í—ˆìš©</td></tr>
        </tbody>
      </table>
      <p style="font-size:13px; margin-top:12px; color:var(--text-dim);">ğŸ’¡ GET/HEAD ë¡œê·¸ì¸ ìš”ì²­ì€ <code>map</code> ë””ë ‰í‹°ë¸Œë¡œ keyë¥¼ ë¹ˆ ë¬¸ìì—´ë¡œ ë§Œë“¤ì–´ Rate Limitì—ì„œ ì œì™¸ë©ë‹ˆë‹¤.</p>
    </div>

    <h3>ğŸ“Œ ë³´ì•ˆ í—¤ë”</h3>
    <pre><code><span class="tag">add_header</span> <span class="str">X-Frame-Options</span>        <span class="val">"SAMEORIGIN"</span>;           <span class="cm"># í´ë¦­ì¬í‚¹ ë°©ì§€</span>
<span class="tag">add_header</span> <span class="str">X-Content-Type-Options</span>  <span class="val">"nosniff"</span>;               <span class="cm"># MIME ìŠ¤ë‹ˆí•‘ ë°©ì§€</span>
<span class="tag">add_header</span> <span class="str">X-XSS-Protection</span>       <span class="val">"1; mode=block"</span>;         <span class="cm"># XSS í•„í„°</span>
<span class="tag">add_header</span> <span class="str">Referrer-Policy</span>        <span class="val">"strict-origin-when-cross-origin"</span>;</code></pre>

    <h3>ğŸ“Œ Gzip ì••ì¶•</h3>
    <p>JSON, HTML, CSS, JS, SVG ë“± í…ìŠ¤íŠ¸ ê¸°ë°˜ ì‘ë‹µì— ëŒ€í•´ <code>gzip_comp_level 5</code>ë¡œ ì••ì¶•í•©ë‹ˆë‹¤. 1024 bytes ë¯¸ë§Œ ì‘ë‹µì€ ì••ì¶• ì œì™¸í•˜ì—¬ CPU ë‚­ë¹„ë¥¼ ë°©ì§€í•©ë‹ˆë‹¤.</p>

    <h3>ğŸ“Œ ì •ì  íŒŒì¼ ìºì‹±</h3>
    <p><code>.css / .js / .jpg / .png / .svg / .woff2</code> ë“±ì˜ ì •ì  ë¦¬ì†ŒìŠ¤ ìš”ì²­ì€ Springìœ¼ë¡œ í”„ë¡ì‹œí•˜ë©´ì„œ <code>expires 7d</code>, <code>Cache-Control: public, immutable</code> í—¤ë”ë¥¼ ì¶”ê°€í•˜ì—¬ ë¸Œë¼ìš°ì € ìºì‹œë¥¼ í™œìš©í•©ë‹ˆë‹¤. <code>access_log off</code>ë¡œ ì •ì  íŒŒì¼ ë¡œê·¸ëŠ” ìƒëµí•©ë‹ˆë‹¤.</p>

    <h3>ğŸ“Œ Health Check ì—”ë“œí¬ì¸íŠ¸</h3>
    <p><code>/actuator/health</code> ê²½ë¡œëŠ” Rate Limit ì—†ì´ Springìœ¼ë¡œ í”„ë¡ì‹œë˜ê³ , ë¶ˆí•„ìš”í•œ <code>access_log</code>ëŠ” êº¼ì ¸ ìˆìŠµë‹ˆë‹¤. Docker í—¬ìŠ¤ì²´í¬ë‚˜ ë¡œë“œë°¸ëŸ°ì„œ ëª¨ë‹ˆí„°ë§ì— í™œìš©ë©ë‹ˆë‹¤.</p>
  </section>

  <!-- â”€â”€ SPRING â”€â”€ -->
  <section id="spring">
    <h2><span class="dot" style="background:#6c8cff"></span>Spring Boot ì»¨í…Œì´ë„ˆ (ë©”ì¸ ì„œë²„)</h2>

    <div class="card">
      <div class="card-header">
        <div class="card-icon" style="background:rgba(108,140,255,0.1);">ğŸƒ</div>
        <div>
          <div class="card-title">spring-server</div>
          <div class="card-sub">Spring Boot 4.0.1 Â· Java 17 Â· JPA + Security + Thymeleaf + JWT + OAuth2</div>
        </div>
      </div>
      <p>Tulipmetricì˜ í•µì‹¬ ì„œë²„ì…ë‹ˆë‹¤. ì¸ì¦, ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§, ë·° ë Œë”ë§, DB ì ‘ê·¼ ëª¨ë‘ë¥¼ ë‹´ë‹¹í•©ë‹ˆë‹¤. ì™¸ë¶€ì—ëŠ” ë…¸ì¶œë˜ì§€ ì•Šê³  Docker ë‚´ë¶€ ë„¤íŠ¸ì›Œí¬(<code>expose: 8080</code>)ë¡œë§Œ ì ‘ê·¼ ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>
    </div>

    <h3>ğŸ—ï¸ ë©€í‹°ìŠ¤í…Œì´ì§€ Docker ë¹Œë“œ</h3>
    <pre><code><span class="cm"># Stage 1: Builder â€” JDKë¡œ Gradle bootJar ë¹Œë“œ</span>
<span class="kw">FROM</span> eclipse-temurin:17-jdk-alpine <span class="kw">AS</span> builder
<span class="kw">RUN</span> ./gradlew bootJar --no-daemon

<span class="cm"># Stage 2: Runtime â€” JREë§Œ í¬í•¨í•˜ì—¬ ì´ë¯¸ì§€ ê²½ëŸ‰í™”</span>
<span class="kw">FROM</span> eclipse-temurin:17-jre-alpine <span class="kw">AS</span> runtime
<span class="kw">COPY</span> --from=builder /build/build/libs/*.jar spring_server.jar
<span class="kw">ENTRYPOINT</span> ["java", "-jar", "/app/spring_server.jar"]</code></pre>
    <p>JDKê°€ í¬í•¨ëœ builder ìŠ¤í…Œì´ì§€ì—ì„œ ë¹Œë“œ í›„, JREë§Œ ìˆëŠ” runtime ì´ë¯¸ì§€ë¡œ ë³µì‚¬í•˜ì—¬ <strong>ìµœì¢… ì´ë¯¸ì§€ í¬ê¸°ë¥¼ ëŒ€í­ ì¤„ì…ë‹ˆë‹¤.</strong></p>

    <h3>ğŸ“¦ ë ˆì´ì–´(íŒ¨í‚¤ì§€) êµ¬ì¡°</h3>
    <div class="layer-box">
      <div class="layer-header lh-security">ğŸ”’ Security Layer â€” ë³´ì•ˆ ì²˜ë¦¬</div>
      <div class="layer-body">
        <ul class="styled">
          <li><code>Security/SpringSecurity/SecurityConfig.java</code> â€” ì „ì²´ ë³´ì•ˆ ì„¤ì •ì˜ ì¤‘ì‹¬, Filter Chain ì •ì˜</li>
          <li><code>Security/SpringSecurity/JWT/JwtTokenProvider</code> â€” JWT ìƒì„±Â·ê²€ì¦ (JJWT 0.13.0, ê¸°ë³¸ 30ë¶„ ë§Œë£Œ)</li>
          <li><code>Security/SpringSecurity/JWT/JwtAuthenticationFilter</code> â€” ë§¤ ìš”ì²­ë§ˆë‹¤ ì¿ í‚¤ì˜ ACCESS_TOKEN ê²€ì¦</li>
          <li><code>Security/SpringSecurity/JWT/JwtLoginFilter</code> â€” POST /login ìš”ì²­ ì²˜ë¦¬, ì¸ì¦ ì„±ê³µ ì‹œ JWT ì¿ í‚¤ ë°œê¸‰</li>
          <li><code>Security/SpringSecurity/OAuth2/CustomOAuth2UserService</code> â€” ì†Œì…œ ë¡œê·¸ì¸ ì‚¬ìš©ì ì •ë³´ ì²˜ë¦¬</li>
          <li><code>Security/SpringSecurity/OAuth2/OAuth2SuccessHandler</code> â€” OAuth2 ì„±ê³µ ì‹œ JWT ë°œê¸‰</li>
          <li><code>Security/SpringSecurity/OAuth2/CookieOAuth2AuthorizationRequestRepository</code> â€” OAuth2 stateë¥¼ ì¿ í‚¤ì— ì €ì¥</li>
          <li><code>Security/SpringSecurity/Captcha/</code> â€” CAPTCHA ê²€ì¦</li>
          <li><code>Security/join/</code> â€” íšŒì›ê°€ì… ë¡œì§ (BCrypt ì•”í˜¸í™”)</li>
          <li><code>Security/Controller/</code> â€” ì¸ì¦ ê´€ë ¨ ì»¨íŠ¸ë¡¤ëŸ¬</li>
        </ul>
      </div>
    </div>

    <div class="layer-box">
      <div class="layer-header lh-web">ğŸŒ Web Layer â€” ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§</div>
      <div class="layer-body">
        <ul class="styled">
          <li><code>MainService/Index/</code> â€” ë©”ì¸ í˜ì´ì§€ (ì—…ì¢… ì§€ìˆ˜ Â· ì£¼ì‹ ë°ì´í„° ì¡°íšŒ)</li>
          <li><code>MainService/Community/Controller/</code> â€” ì»¤ë®¤ë‹ˆí‹° ê²Œì‹œíŒ ì»¨íŠ¸ë¡¤ëŸ¬</li>
          <li><code>MainService/Community/Service/</code> â€” ê²Œì‹œê¸€Â·ëŒ“ê¸€ ì„œë¹„ìŠ¤ (ì‘ì„±/ìˆ˜ì •/ì‚­ì œ/ì¢‹ì•„ìš”)</li>
          <li><code>Mypage/</code> â€” ë§ˆì´í˜ì´ì§€, í™œë™ë‚´ì—­, ì €ì¥ ëª©ë¡, í”„ë¡œí•„ ìˆ˜ì •</li>
          <li><code>AOP/LogAspect.java</code> â€” @LogExecutionTime ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ ë©”ì„œë“œ ì‹¤í–‰ì‹œê°„ ë¡œê¹…</li>
        </ul>
      </div>
    </div>

    <div class="layer-box">
      <div class="layer-header lh-service">ğŸ“‚ Domain Layer â€” ì—”í‹°í‹° & Repository</div>
      <div class="layer-body">
        <ul class="styled">
          <li><code>domain/Member/</code> â€” íšŒì› ì—”í‹°í‹°, Role(USER, LOOT) enum, Repository</li>
          <li><code>domain/Post/</code> â€” ê²Œì‹œê¸€ ì—”í‹°í‹° ë° Repository</li>
          <li><code>domain/Company/</code> â€” KOSPI ê°œë³„ ì¢…ëª© ì—”í‹°í‹° (itmsnm, clpr, vs, fltrt, trqu, mrkttotamt, market)</li>
          <li><code>domain/Market/</code> â€” ì—…ì¢… ì§€ìˆ˜ ì—”í‹°í‹° (market_name, total_market_cap, market_per, stock_count, chart, market_status, trending)</li>
          <li><code>domain/WishMarket/</code> â€” ê´€ì‹¬ ì—…ì¢… ì €ì¥ ì—”í‹°í‹°</li>
        </ul>
      </div>
    </div>

    <h3>ğŸ” Spring Security â€” ìƒì„¸ Filter Chain</h3>
    <div class="card">
      <p style="margin-bottom:16px;">ì„¸ì…˜ì„ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” <strong>Stateless JWT ë°©ì‹</strong>ìœ¼ë¡œ ë™ì‘í•©ë‹ˆë‹¤. ìˆœì„œê°€ ë§¤ìš° ì¤‘ìš”í•©ë‹ˆë‹¤.</p>
      <div class="steps">
        <div class="step-item">
          <div class="step-num" style="background:var(--accent5)">â‘ </div>
          <div class="step-content">
            <h4>JwtAuthenticationFilter (ë§¤ ìš”ì²­)</h4>
            <p>ëª¨ë“  ìš”ì²­ì—ì„œ HTTP ì¿ í‚¤ì˜ <code>ACCESS_TOKEN</code>ì„ ì½ì–´ <code>JwtTokenProvider.validateToken()</code>ìœ¼ë¡œ ê²€ì¦í•©ë‹ˆë‹¤. ìœ íš¨í•˜ë©´ usernameê³¼ roleì„ ì¶”ì¶œí•´ <code>SecurityContextHolder</code>ì— ì €ì¥í•©ë‹ˆë‹¤.</p>
          </div>
        </div>
        <div class="step-item">
          <div class="step-num" style="background:var(--accent5)">â‘¡</div>
          <div class="step-content">
            <h4>JwtLoginFilter (POST /login ì „ìš©)</h4>
            <p>form ë¡œê·¸ì¸ ëŒ€ì‹  ì´ í•„í„°ê°€ <code>UsernamePasswordAuthenticationFilter</code> ìë¦¬ë¥¼ ëŒ€ì²´í•©ë‹ˆë‹¤. ì¸ì¦ ì„±ê³µ ì‹œ <code>JwtTokenProvider.createToken()</code>ìœ¼ë¡œ JWTë¥¼ ë°œê¸‰í•˜ê³  <code>HttpOnly + Secure ì¿ í‚¤</code>ë¡œ ì‘ë‹µí•©ë‹ˆë‹¤.</p>
          </div>
        </div>
        <div class="step-item">
          <div class="step-num" style="background:var(--accent5)">â‘¢</div>
          <div class="step-content">
            <h4>OAuth2 ì†Œì…œ ë¡œê·¸ì¸</h4>
            <p><code>CustomOAuth2UserService</code>ê°€ ì†Œì…œ providerì˜ ì‚¬ìš©ì ì •ë³´ë¥¼ ë°›ì•„ ë‚´ë¶€ Member ì—”í‹°í‹°ì™€ ë§¤í•‘í•©ë‹ˆë‹¤. ì„±ê³µ ì‹œ <code>OAuth2SuccessHandler</code>ê°€ ë™ì¼í•˜ê²Œ JWT ì¿ í‚¤ë¥¼ ë°œê¸‰í•©ë‹ˆë‹¤.</p>
          </div>
        </div>
        <div class="step-item">
          <div class="step-num" style="background:var(--accent5)">â‘£</div>
          <div class="step-content">
            <h4>ê¶Œí•œ(Role) ê³„ì¸µ</h4>
            <p><code>ROLE_LOOT > ROLE_USER</code> ê³„ì¸µì´ ì„¤ì •ë˜ì–´ LOOT ê¶Œí•œì€ USER ê¶Œí•œì„ í¬í•¨í•©ë‹ˆë‹¤. ë§ˆì´í˜ì´ì§€, ê²Œì‹œê¸€ ì‘ì„±/ì‚­ì œ, ëŒ“ê¸€, ì¢‹ì•„ìš”, ê´€ì‹¬ì—…ì¢… ì €ì¥ì€ USER ì´ìƒë§Œ ì ‘ê·¼ ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>
          </div>
        </div>
      </div>
    </div>

    <h3>ğŸ”„ AOP â€” íš¡ë‹¨ ê´€ì‹¬ì‚¬</h3>
    <div class="card">
      <p>ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ê³¼ ë¬´ê´€í•œ <strong>ì‹¤í–‰ ì‹œê°„ ì¸¡ì •</strong>ì´ AOPë¡œ ë¶„ë¦¬ë˜ì–´ ìˆìŠµë‹ˆë‹¤. <code>@LogExecutionTime</code> ì–´ë…¸í…Œì´ì…˜ì´ ë¶™ì€ ë©”ì„œë“œëŠ” <code>LogAspect</code>ê°€ Around Adviceë¡œ ì „Â·í›„ ì‹œê°„ì„ ì¸¡ì •í•˜ì—¬ ë¡œê·¸ì— ê¸°ë¡í•©ë‹ˆë‹¤. ì´ ë°©ì‹ ë•ë¶„ì— ë¹„ì¦ˆë‹ˆìŠ¤ ì½”ë“œì— ì„±ëŠ¥ ì¸¡ì • ì½”ë“œë¥¼ ë„£ì§€ ì•Šì•„ë„ ë©ë‹ˆë‹¤.</p>
    </div>

    <h3>ğŸ“Š ì£¼ìš” ì˜ì¡´ì„± (build.gradle)</h3>
    <div class="grid2">
      <div class="card" style="padding:16px;">
        <h4 style="color:var(--accent); font-size:13px; margin-bottom:10px;">í•µì‹¬ ì˜ì¡´ì„±</h4>
        <ul class="styled">
          <li>spring-boot-starter-webmvc</li>
          <li>spring-boot-starter-data-jpa</li>
          <li>spring-boot-starter-thymeleaf</li>
          <li>thymeleaf-extras-springsecurity6</li>
          <li>mysql-connector-j</li>
        </ul>
      </div>
      <div class="card" style="padding:16px;">
        <h4 style="color:var(--accent5); font-size:13px; margin-bottom:10px;">ë³´ì•ˆ ì˜ì¡´ì„±</h4>
        <ul class="styled">
          <li>spring-boot-starter-security</li>
          <li>spring-boot-starter-security-oauth2-client</li>
          <li>jjwt-api 0.13.0</li>
          <li>jjwt-impl 0.13.0</li>
          <li>jjwt-jackson 0.13.0</li>
        </ul>
      </div>
    </div>

    <h3>ğŸŒ URL ê¶Œí•œ ë§¤í•‘ ìš”ì•½</h3>
    <div class="card">
      <table>
        <thead><tr><th>ê²½ë¡œ</th><th>ë©”ì„œë“œ</th><th>í•„ìš” ê¶Œí•œ</th></tr></thead>
        <tbody>
          <tr><td><code>/</code>, <code>/community</code>, <code>/industry-detail</code></td><td>ALL</td><td>ëˆ„êµ¬ë‚˜</td></tr>
          <tr><td><code>/join</code>, <code>/login</code>, <code>/signup</code></td><td>GET/POST</td><td>ëˆ„êµ¬ë‚˜</td></tr>
          <tr><td><code>/mypage</code>, <code>/activity</code>, <code>/saved</code></td><td>ALL</td><td>USER / LOOT</td></tr>
          <tr><td><code>/editprofile</code>, <code>/editpassword</code>, <code>/deletprofile</code></td><td>ALL</td><td>USER / LOOT</td></tr>
          <tr><td><code>/createpost</code>, <code>/deletepost</code>, <code>/editpost</code></td><td>ALL</td><td>USER / LOOT</td></tr>
          <tr><td><code>/createcomment</code>, <code>/deletecomment</code></td><td>ALL</td><td>USER / LOOT</td></tr>
          <tr><td><code>/likeAction</code>, <code>/savewishmarket</code></td><td>POST</td><td>USER / LOOT</td></tr>
          <tr><td>ê·¸ ì™¸ ëª¨ë“  ê²½ë¡œ</td><td>ALL</td><td>ì¸ì¦ í•„ìš”</td></tr>
        </tbody>
      </table>
    </div>
  </section>

  <!-- â”€â”€ PYTHON â”€â”€ -->
  <section id="python">
    <h2><span class="dot" style="background:#f59e0b"></span>Python ì»¨í…Œì´ë„ˆ (ë°ì´í„° ë¡œë”)</h2>

    <div class="card">
      <div class="card-header">
        <div class="card-icon" style="background:rgba(245,158,11,0.1);">ğŸ</div>
        <div>
          <div class="card-title">python-loader</div>
          <div class="card-sub">restart: no â€” ì„œë¹„ìŠ¤ ì‹œì‘ ì‹œ 1íšŒë§Œ ì‹¤í–‰ í›„ ì¢…ë£Œ</div>
        </div>
      </div>
      <p>Python ì»¨í…Œì´ë„ˆëŠ” <strong>ì„œë²„ê°€ ì•„ë‹™ë‹ˆë‹¤</strong>. MySQLì´ ì¤€ë¹„ëœ ì§í›„ í•œ ë²ˆ ì‹¤í–‰ë˜ì–´ KOSIS APIì™€ data.go.kr APIì—ì„œ ì£¼ì‹Â·ì—…ì¢… ì´ˆê¸° ë°ì´í„°ë¥¼ ìˆ˜ì§‘í•˜ê³  MySQLì— INSERTí•œ ë’¤ ì¢…ë£Œë©ë‹ˆë‹¤.</p>
    </div>

    <h3>ğŸ“¡ ë°ì´í„° ìˆ˜ì§‘ íë¦„</h3>
    <div class="flow" style="flex-direction:column; gap:12px; padding:20px; background:var(--surface); border:1px solid var(--border); border-radius:12px;">
      <div style="display:flex;align-items:center;gap:10px;flex-wrap:wrap;">
        <div class="flow-node fn-python" style="min-width:120px"><span class="label">KOSIS API</span><span class="sub">ì—…ì¢… ì§€ìˆ˜Â·PERÂ·ì‹œì´</span></div>
        <span class="flow-arrow">â†’</span>
        <div class="flow-node fn-python"><span class="label">Python</span><span class="sub">ë°ì´í„° ì •ì œÂ·ë¶„ë¥˜</span></div>
        <span class="flow-arrow">â†’</span>
        <div class="flow-node fn-mysql"><span class="label">MySQL</span><span class="sub">market í…Œì´ë¸”</span></div>
      </div>
      <div style="display:flex;align-items:center;gap:10px;flex-wrap:wrap;">
        <div class="flow-node fn-python" style="min-width:120px"><span class="label">data.go.kr API</span><span class="sub">KOSPI ê°œë³„ ì¢…ëª©</span></div>
        <span class="flow-arrow">â†’</span>
        <div class="flow-node fn-python"><span class="label">Python</span><span class="sub">ì—…ì¢… XLSX ë§¤í•‘</span></div>
        <span class="flow-arrow">â†’</span>
        <div class="flow-node fn-mysql"><span class="label">MySQL</span><span class="sub">company í…Œì´ë¸”</span></div>
      </div>
    </div>

    <h3>ğŸ“Œ ì£¼ìš” ì²˜ë¦¬ ë‹¨ê³„</h3>
    <div class="grid2">
      <div class="card" style="padding:16px;">
        <h4 style="color:var(--python); font-size:13px; margin-bottom:10px;">ì—…ì¢…(Market) ë°ì´í„°</h4>
        <ul class="styled">
          <li>KOSISì—ì„œ ì—…ì¢…ë³„ ì§€ìˆ˜ 12ê°œì›”ì¹˜ ìˆ˜ì§‘ (<code>fetch_sector_chart</code>)</li>
          <li>ì‹œê°€ì´ì•¡, PER, ì¢…ëª©ìˆ˜ ë³„ë„ API í˜¸ì¶œ</li>
          <li>23ê°œ ì—…ì¢… ìˆœì„œ ì •ë ¬ (<code>MARKET_ORDER</code>)</li>
          <li>ëˆ„ë½ ì—…ì¢…ì€ ì´ì›ƒ ì—…ì¢… ë°ì´í„°ë¡œ ë³´ê°„</li>
          <li>PER ê¸°ì¤€ìœ¼ë¡œ <code>overvalued / growing / stable / declining / crashed</code> ë¶„ë¥˜</li>
          <li>30ì¼ ì„±ì¥ë¥ (growth_rate30d) ê³„ì‚°</li>
        </ul>
      </div>
      <div class="card" style="padding:16px;">
        <h4 style="color:var(--python); font-size:13px; margin-bottom:10px;">ê°œë³„ì¢…ëª©(Company) ë°ì´í„°</h4>
        <ul class="styled">
          <li>data.go.krì—ì„œ KOSPI ì „ì²´ ì¢…ëª©(958ê°œ) ìˆ˜ì§‘</li>
          <li><code>ì£¼ì‹ë³„ ì—…ì¢… ë¶„ë¥˜.xlsx</code>ë¡œ ì¢…ëª©ì½”ë“œ â†’ ì—…ì¢…ëª… ë§¤í•‘</li>
          <li>ì¢…ê°€(clpr), ë“±ë½ë¥ (fltRt), ê±°ë˜ëŸ‰(trqu), ì‹œê°€ì´ì•¡(mrktTotAmt) ì €ì¥</li>
          <li>ì—…ì¢… ë§¤í•‘ ì‹¤íŒ¨ ì¢…ëª©ì€ INSERT ì œì™¸</li>
        </ul>
      </div>
    </div>

    <h3>ğŸ“Œ DB ì—°ê²° ì¬ì‹œë„ ë¡œì§</h3>
    <p><code>wait_for_db()</code> í•¨ìˆ˜ê°€ MySQLì´ ì¤€ë¹„ë  ë•Œê¹Œì§€ ìµœëŒ€ 20íšŒ(10ì´ˆ ê°„ê²©)ë¡œ ì¬ì‹œë„í•©ë‹ˆë‹¤. Docker healthcheckì™€ ë³„ê°œë¡œ Python ë ˆë²¨ì—ì„œë„ ì•ˆì „ì„±ì„ ë³´ì¥í•©ë‹ˆë‹¤.</p>
  </section>

  <!-- â”€â”€ MYSQL â”€â”€ -->
  <section id="mysql">
    <h2><span class="dot" style="background:#38bdf8"></span>MySQL ì»¨í…Œì´ë„ˆ</h2>

    <div class="card">
      <div class="card-header">
        <div class="card-icon" style="background:rgba(56,189,248,0.1);">ğŸ—„ï¸</div>
        <div>
          <div class="card-title">mysql-container</div>
          <div class="card-sub">ì»¤ìŠ¤í…€ ë¹Œë“œ ì´ë¯¸ì§€ Â· í¬íŠ¸ 3306 Â· Volume: mysql_data</div>
        </div>
      </div>
      <p>ëª¨ë“  ì˜êµ¬ ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ì»¨í…Œì´ë„ˆì…ë‹ˆë‹¤. <code>mysql_data</code> Docker ë³¼ë¥¨ìœ¼ë¡œ ì»¨í…Œì´ë„ˆê°€ ì¬ì‹œì‘ë˜ì–´ë„ ë°ì´í„°ê°€ ìœ ì§€ë©ë‹ˆë‹¤.</p>
    </div>

    <h3>ğŸ“Œ Healthcheck ì„¤ì •</h3>
    <pre><code><span class="tag">healthcheck</span>:
  test: [<span class="str">"CMD"</span>, <span class="str">"mysqladmin"</span>, <span class="str">"ping"</span>, <span class="str">"-h localhost"</span>]
  interval: <span class="val">10s</span>
  timeout:  <span class="val">5s</span>
  retries:  <span class="val">10</span>
  start_period: <span class="val">30s</span></code></pre>
    <p>10ì´ˆë§ˆë‹¤ <code>mysqladmin ping</code>ìœ¼ë¡œ í—¬ìŠ¤ì²´í¬ë¥¼ ìˆ˜í–‰í•˜ë©°, 10íšŒ ì¬ì‹œë„ ë‚´ì— í†µê³¼í•´ì•¼ Springê³¼ Python ì»¨í…Œì´ë„ˆê°€ ê¸°ë™í•©ë‹ˆë‹¤. <code>start_period: 30s</code>ë¡œ ì´ˆê¸° ê¸°ë™ ì‹œê°„ì„ ì—¬ìœ  ìˆê²Œ ì„¤ì •í–ˆìŠµë‹ˆë‹¤.</p>

    <h3>ğŸ“Œ ì£¼ìš” í…Œì´ë¸” êµ¬ì¡°</h3>
    <div class="card">
      <table>
        <thead><tr><th>í…Œì´ë¸”</th><th>ì£¼ìš” ì»¬ëŸ¼</th><th>ë°ì´í„° ì¶œì²˜</th></tr></thead>
        <tbody>
          <tr><td><code>market</code></td><td>name, totalmarketcap, marketper, stockcount, chart(CSV), growth_rate30d, market_status, trending</td><td>Python (KOSIS)</td></tr>
          <tr><td><code>company</code></td><td>id(AUTO), itmsnm, clpr, vs, fltrt, trqu, mrkttotamt, market</td><td>Python (data.go.kr)</td></tr>
          <tr><td><code>member</code></td><td>loginid, password(BCrypt), nickname, role(USER/LOOT)</td><td>Spring (íšŒì›ê°€ì…)</td></tr>
          <tr><td><code>post</code></td><td>ì œëª©, ë‚´ìš©, ì‘ì„±ì, ì¢‹ì•„ìš”ìˆ˜ ë“±</td><td>Spring (ì»¤ë®¤ë‹ˆí‹°)</td></tr>
          <tr><td><code>wish_market</code></td><td>member_id, market_name</td><td>Spring (ê´€ì‹¬ì—…ì¢… ì €ì¥)</td></tr>
        </tbody>
      </table>
    </div>

    <h3>ğŸ“Œ ë³´ì•ˆ</h3>
    <p>DB ë¹„ë°€ë²ˆí˜¸, ë£¨íŠ¸ íŒ¨ìŠ¤ì›Œë“œ ë“± ë¯¼ê° ì •ë³´ëŠ” <code>.env</code> íŒŒì¼ì—ì„œ í™˜ê²½ë³€ìˆ˜ë¡œ ì£¼ì…ë©ë‹ˆë‹¤. <code>.env.example</code>ë§Œ ê¹ƒì— ì»¤ë°‹í•˜ê³  ì‹¤ì œ <code>.env</code>ëŠ” <code>.gitignore</code>ì— í¬í•¨ë˜ì–´ ë ˆí¬ì— ë…¸ì¶œë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</p>
  </section>

  <!-- â”€â”€ SECURITY â”€â”€ -->
  <section id="security">
    <h2><span class="dot" style="background:#f472b6"></span>ì „ì²´ ë³´ì•ˆ ì•„í‚¤í…ì²˜ ìš”ì•½</h2>

    <div class="grid2">
      <div class="card">
        <h4 style="color:var(--nginx); margin-bottom:10px;">Nginx ë ˆë²¨</h4>
        <ul class="styled">
          <li>Rate Limiting (api / login / oauth2 êµ¬ë¶„)</li>
          <li>ë³´ì•ˆ í—¤ë” (XSS, Clickjacking, MIME ìŠ¤ë‹ˆí•‘)</li>
          <li>client_max_body_size 10MB ì œí•œ</li>
          <li>Spring í¬íŠ¸ ì™¸ë¶€ ë¯¸ë…¸ì¶œ</li>
        </ul>
      </div>
      <div class="card">
        <h4 style="color:var(--spring); margin-bottom:10px;">Spring ë ˆë²¨</h4>
        <ul class="styled">
          <li>Stateless JWT (ì¿ í‚¤ HttpOnlyÂ·Secure)</li>
          <li>OAuth2 ì†Œì…œ ë¡œê·¸ì¸ + ì¿ í‚¤ State ì €ì¥</li>
          <li>BCrypt ë¹„ë°€ë²ˆí˜¸ ì•”í˜¸í™”</li>
          <li>CSRF ë¹„í™œì„± (JWT Stateless ë°©ì‹)</li>
          <li>Role ê¸°ë°˜ URL ì ‘ê·¼ ì œì–´</li>
          <li>ROLE_LOOT > ROLE_USER ê³„ì¸µ ê¶Œí•œ</li>
        </ul>
      </div>
      <div class="card">
        <h4 style="color:var(--mysql); margin-bottom:10px;">ì¸í”„ë¼ ë ˆë²¨</h4>
        <ul class="styled">
          <li>.env íŒŒì¼ë¡œ ì‹œí¬ë¦¿ ë¶„ë¦¬</li>
          <li>Docker ë‚´ë¶€ ë„¤íŠ¸ì›Œí¬ ê²©ë¦¬</li>
          <li>Spring/MySQL í¬íŠ¸ ì™¸ë¶€ ë…¸ì¶œ ì—†ìŒ</li>
          <li>TZ: Asia/Seoul ì„¤ì •</li>
        </ul>
      </div>
      <div class="card">
        <h4 style="color:var(--python); margin-bottom:10px;">ë°ì´í„° ë ˆë²¨</h4>
        <ul class="styled">
          <li>API í‚¤ í™˜ê²½ë³€ìˆ˜ë¡œ ê´€ë¦¬</li>
          <li>Python ì»¨í…Œì´ë„ˆ 1íšŒ ì‹¤í–‰ í›„ ì¢…ë£Œ</li>
          <li>mysql_data ë³¼ë¥¨ìœ¼ë¡œ ë°ì´í„° ì˜ì†ì„± ë³´ì¥</li>
        </ul>
      </div>
    </div>
  </section>

</main>

<footer>
  <p>ğŸ“„ Tulipmetric Architecture Docs â€” Generated from <a href="https://github.com/bbabbico/Tulipmetric" style="color:var(--accent);text-decoration:none;">github.com/bbabbico/Tulipmetric</a></p>
</footer>

</body>
</html>